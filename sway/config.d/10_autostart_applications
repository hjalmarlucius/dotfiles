# Auth with polkit-gnome:
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Import environment variables for user systemd service manager
exec systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK

# Update dbus environments with display variables
exec hash dbus-update-activation-environment 2>/dev/null && \
     dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK

# Idle configuration
exec swayidle idlehint 1
exec_always swayidle -w before-sleep "gtklock -d"

# Desktop notifications
exec mako

# Start foot server
exec_always --no-startup-id foot --server

# Autotiling
exec autotiling

# Network Applet
exec nm-applet --indicator

# Firewall Applet
exec sleep 2 && firewall-applet

# nwg-drawer
exec_always nwg-drawer -r -c 7 -is 90 -mb 10 -ml 50 -mr 50 -mt 10

# focus switch animations
exec systemctl --user enable --now flashfocus

# usb automount
exec systemctl --user enable --now pcmanfm

# persist clipboard after close
exec_always {
    # persist clipboard after close
    pkill -x wl-clip-persist
    wl-clip-persist --clipboard regular --all-mime-type-regex '(?i)^(?!image/x-inkscape-svg).+'
}

# enable noisetorch
exec_always {
    noisetorch -u
    noisetorch -i
}
